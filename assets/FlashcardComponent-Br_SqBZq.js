import{c as y,r as l,u as j,a as w,b as v,d as N,j as e,e as S}from"./index-BKxTNVQ3.js";import{u as E,N as F}from"./NavigationButton-4kyoXkt1.js";import{s as L}from"./randomUtils-DP179wgg.js";import{R as C}from"./rotate-ccw-6_RBVWEo.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),B=({module:r})=>{const[s,g]=l.useState(0),[n,m]=l.useState(!1),[p]=l.useState(Date.now()),{setCurrentView:c}=j(),{updateUserScore:b}=w(),{language:k}=v(),{addProgressEntry:f}=N(),{t:u}=S(k);E();const a=l.useMemo(()=>{if(!(r!=null&&r.data))return[];const i=r.data;return L(i)},[r==null?void 0:r.data]),t=a[s],x=l.useCallback(()=>{if(s<a.length-1)g(s+1),m(!1);else{const i=Math.floor((Date.now()-p)/1e3);f({score:100,totalQuestions:a.length,correctAnswers:a.length,moduleId:r.id,learningMode:"flashcard",timeSpent:i}),b(r.id,a.length,i),c("menu")}},[s,a.length,p,f,r.id,b,c]),h=l.useCallback(()=>{s>0&&(g(s-1),m(!1))},[s]),d=l.useCallback(()=>{m(!n)},[n]);return l.useEffect(()=>{if(a.length===0)return;const i=o=>{switch(o.key){case"ArrowRight":o.preventDefault(),x();break;case"ArrowLeft":o.preventDefault(),h();break;case"Enter":case" ":o.preventDefault(),n?x():d();break;case"Escape":c("menu");break}};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[s,a.length,n,d,x,h,c]),a.length?e.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:r.name}),e.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:[s+1,"/",a.length]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${(s+1)/a.length*100}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:n?"Press Enter/Space for next card":"Click card or press Enter/Space to flip"})]}),e.jsx("div",{className:`flashcard relative h-56 sm:h-64 w-full cursor-pointer ${n?"flipped":""}`,onClick:d,children:e.jsxs("div",{className:"flashcard-inner",children:[e.jsxs("div",{className:"flashcard-front bg-white dark:bg-gray-700 shadow-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white text-center mb-2",children:(t==null?void 0:t.en)||"Loading..."}),(t==null?void 0:t.ipa)&&e.jsx("p",{className:"text-base sm:text-lg text-gray-500 dark:text-gray-300 text-center mb-3",children:t.ipa}),(t==null?void 0:t.example)&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 italic text-center px-2",children:['"',t.example,'"']})]}),e.jsxs("div",{className:"flashcard-back bg-blue-50 dark:bg-blue-900 shadow-lg border border-blue-200 dark:border-blue-700",children:[e.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white text-center mb-1",children:(t==null?void 0:t.en)||"Loading..."}),(t==null?void 0:t.ipa)&&e.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-300 text-center mb-2",children:t.ipa}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-900 dark:text-blue-100 text-center mb-3",children:(t==null?void 0:t.es)||"Loading..."}),(t==null?void 0:t.example)&&e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic mb-1 px-2",children:['"',t.example,'"']}),t.example_es&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 italic px-2",children:['"',t.example_es,'"']})]})]})]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 flex-wrap mt-6",children:[e.jsx(F,{onClick:()=>c("menu"),title:"Return to main menu",children:"Back to Menu"}),e.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),e.jsx("button",{onClick:h,disabled:s===0,className:"flashcard-nav-btn flashcard-nav-btn--prev p-2.5 rounded-lg transition-colors shadow-sm",title:"Previous Card (←)",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium shadow-sm w-[140px] justify-center",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:n?"Flip Back":"Flip"})]}),e.jsx("button",{onClick:x,className:"flashcard-nav-btn flashcard-nav-btn--next p-2.5 rounded-lg transition-colors shadow-sm",title:s===a.length-1?"Finish Flashcards":"Next Card (→)",children:e.jsx(A,{className:"h-4 w-4"})})]})]}):e.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-6 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:u("noDataAvailable")||"No flashcards available"}),e.jsx("button",{onClick:()=>c("menu"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:u("navigation.mainMenu")})]})};export{B as default};
