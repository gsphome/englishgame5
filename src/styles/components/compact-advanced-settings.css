/* Compact Advanced Settings Styles */

.compact-settings {
  @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50;
  animation: modalFadeIn 0.2s ease-out;
}

.compact-settings__container {
  @apply bg-white dark:bg-gray-900 rounded-lg shadow-2xl w-full border border-gray-200 dark:border-gray-700 flex flex-col;
  animation: modalSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  width: 380px; /* Ancho fijo */
  height: 405px; /* Altura aumentada para evitar scroll */
  max-width: 380px;
  max-height: 405px;
  overflow: hidden;
}

.compact-settings__header {
  @apply flex items-center justify-between px-3 py-2 border-b-2 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800;
  height: 50px; /* Altura fija del header */
  flex-shrink: 0; /* No se comprime */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Sombra sutil para separación */
}

.compact-settings__title-section {
  @apply flex items-center space-x-2 flex-1;
}

.compact-settings__icon {
  @apply h-4 w-4 text-blue-600 dark:text-blue-400;
}

.compact-settings__title {
  @apply text-base font-bold text-gray-900 dark:text-white truncate;
}

.compact-settings__close-btn {
  @apply p-2 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-all duration-200 flex-shrink-0;
  z-index: 10; /* Asegurar que esté por encima */
}

/* Tabs */
.compact-settings__tabs {
  @apply flex border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900;
  height: 40px; /* Altura fija de las pestañas */
  flex-shrink: 0; /* No se comprime */
}

.compact-settings__tab {
  @apply flex-1 flex items-center justify-center space-x-1 px-2 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200;
}

.compact-settings__tab--active {
  @apply text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400;
}

.compact-settings__tab-icon {
  @apply h-3 w-3;
}

.compact-settings__tab-title {
  @apply hidden sm:inline;
}

.compact-settings__content {
  @apply p-2 bg-white dark:bg-gray-900;
  overflow-y: auto;
  /* Altura calculada: 405px total - 50px header - 40px tabs - 45px footer = 270px */
  height: 270px;
  min-height: 270px;
  max-height: 270px;
  flex: 1; /* Toma el espacio disponible */
}

/* Sections */
.compact-settings__section {
  @apply space-y-1 bg-transparent;
}

.compact-settings__section-title {
  @apply text-xs font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-1;
}

/* General Settings Fields - BEM Structure */
.compact-settings__fields {
  @apply space-y-1.5;
}

.compact-settings__field {
  @apply space-y-0.5;
}

.compact-settings__field--dev {
  @apply bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-1.5;
}

.compact-settings__label {
  @apply block text-xs font-medium text-gray-700 dark:text-gray-300;
}

.compact-settings__label--dev {
  @apply text-yellow-800 dark:text-yellow-300 text-xs;
}

.compact-settings__select {
  @apply w-full px-2 py-1.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200;
}

/* Game Settings - BEM Structure */
.compact-settings__games {
  @apply grid grid-cols-1 gap-2;
}

.compact-settings__game {
  @apply bg-gray-50 dark:bg-gray-800 rounded-md p-2 flex items-center justify-between;
  min-height: 40px;
}

.compact-settings__game-label {
  @apply text-xs font-medium text-gray-700 dark:text-gray-300 flex-shrink-0;
  min-width: 80px;
}

.compact-settings__game-controls {
  @apply flex items-center space-x-2 flex-1 ml-2;
}

.compact-settings__range {
  @apply flex-1 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full appearance-none cursor-pointer;
  min-width: 80px;
}

.compact-settings__range::-webkit-slider-thumb {
  @apply appearance-none w-3 h-3 bg-blue-500 rounded-full cursor-pointer;
}

.compact-settings__range::-moz-range-thumb {
  @apply w-3 h-3 bg-blue-500 rounded-full cursor-pointer border-0;
}

.compact-settings__range-value {
  @apply text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-1.5 py-0.5 rounded-full min-w-[1.5rem] text-center flex-shrink-0;
}

/* Development Mode Elements - BEM Structure */
.compact-settings__toggle-container {
  @apply flex items-center space-x-2 mt-1;
}

.compact-settings__toggle {
  @apply w-3 h-3 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-1;
}

.compact-settings__toggle-label {
  @apply flex items-center cursor-pointer;
}

.compact-settings__toggle-text {
  @apply text-xs text-gray-700 dark:text-gray-300;
}

.compact-settings__description {
  @apply text-xs mt-0.5 leading-tight;
  font-size: 0.65rem;
}

.compact-settings__description--dev {
  @apply text-yellow-700 dark:text-yellow-400;
}

/* Categories - BEM Structure */
.compact-settings__categories {
  @apply grid grid-cols-1 gap-1.5;
}

.compact-settings__category {
  @apply flex items-center space-x-2 p-2 bg-gray-50 dark:bg-gray-800 rounded-md cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200;
  min-height: 36px;
}

.compact-settings__category-checkbox {
  @apply w-3 h-3 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-1;
}

.compact-settings__category-label {
  @apply text-xs text-gray-700 dark:text-gray-300 flex-1 cursor-pointer;
}

/* Footer Actions - Fixed at bottom */
.compact-settings__footer {
  @apply flex items-center justify-end space-x-2 px-3 py-2 border-t-2 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800;
  height: 45px; /* Altura reducida del footer */
  flex-shrink: 0; /* No se comprime */
  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.1); /* Sombra hacia arriba para separación */
}

.compact-settings__btn {
  @apply px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200 flex items-center space-x-1;
}

.compact-settings__btn-icon {
  @apply h-4 w-4;
}

.compact-settings__btn--reset {
  @apply bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600;
}

.compact-settings__btn--primary {
  @apply bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl transform hover:scale-105;
}

/* Animations */
@keyframes modalFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(4px);
  }
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(-20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Mobile Responsive */
@media (max-width: 640px) {
  .compact-settings__container {
    @apply max-w-sm;
  }

  .compact-settings__title {
    @apply text-sm;
  }

  .compact-settings__tab {
    @apply px-1;
  }

  .compact-settings__tab-title {
    @apply hidden;
  }

  .compact-settings__actions {
    @apply flex-col space-x-0 space-y-2;
  }

  .compact-settings__btn {
    @apply w-full justify-center;
  }
}

/* Custom scrollbar */
.compact-settings__content::-webkit-scrollbar {
  width: 4px;
}

.compact-settings__content::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-800 rounded-full;
}

.compact-settings__content::-webkit-scrollbar-thumb {
  @apply bg-blue-300 dark:bg-blue-600 rounded-full;
}

.compact-settings__content::-webkit-scrollbar-thumb:hover {
  @apply bg-blue-400 dark:bg-blue-500;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .compact-settings,
  .compact-settings__container {
    animation: none;
    transition: none;
  }
}
