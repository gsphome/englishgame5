/**
 * Web Light Text Fix
 * 
 * Contextual text colors for web-light mode:
 * - Soft gray on light backgrounds
 * - White/near-white on colored backgrounds
 * Higher specificity to override Tailwind classes
 */

/* === WEB LIGHT TEXT OVERRIDES === */
@media (min-width: 769px) {
  /* Default text colors - soft gray on light backgrounds */
  html.light .text-gray-900,
  html:not(.dark) .text-gray-900 {
    color: var(--text-primary-soft) !important;
  }

  html.light .text-gray-800,
  html:not(.dark) .text-gray-800 {
    color: var(--text-primary-soft) !important;
  }

  html.light .text-gray-700,
  html:not(.dark) .text-gray-700 {
    color: var(--text-secondary-soft) !important;
  }

  /* === CONTEXTUAL COLORS ON COLORED BACKGROUNDS === */
  /* Blue backgrounds - white text */
  html.light .bg-blue-600,
  html.light .bg-blue-500,
  html.light .bg-blue-50,
  html.light [class*="bg-blue"],
  html:not(.dark) .bg-blue-600,
  html:not(.dark) .bg-blue-500,
  html:not(.dark) .bg-blue-50,
  html:not(.dark) [class*="bg-blue"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* Purple backgrounds - white text */
  html.light .bg-purple-600,
  html.light .bg-purple-500,
  html.light .bg-purple-50,
  html.light [class*="bg-purple"],
  html:not(.dark) .bg-purple-600,
  html:not(.dark) .bg-purple-500,
  html:not(.dark) .bg-purple-50,
  html:not(.dark) [class*="bg-purple"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* Green backgrounds - white text */
  html.light .bg-green-600,
  html.light .bg-green-500,
  html.light .bg-green-50,
  html.light [class*="bg-green"],
  html:not(.dark) .bg-green-600,
  html:not(.dark) .bg-green-500,
  html:not(.dark) .bg-green-50,
  html:not(.dark) [class*="bg-green"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* Red backgrounds - white text */
  html.light .bg-red-600,
  html.light .bg-red-500,
  html.light .bg-red-50,
  html.light [class*="bg-red"],
  html:not(.dark) .bg-red-600,
  html:not(.dark) .bg-red-500,
  html:not(.dark) .bg-red-50,
  html:not(.dark) [class*="bg-red"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* Learning component titles */
  html.light h1,
  html.light h2,
  html.light h3,
  html.light h4,
  html.light h5,
  html.light h6,
  html:not(.dark) h1,
  html:not(.dark) h2,
  html:not(.dark) h3,
  html:not(.dark) h4,
  html:not(.dark) h5,
  html:not(.dark) h6 {
    color: var(--text-primary-soft) !important;
  }

  /* Specific learning component overrides */
  html.light .quiz-component h2,
  html.light .completion-component h2,
  html.light .flashcard-component h2,
  html.light .matching-component h2,
  html:not(.dark) .quiz-component h2,
  html:not(.dark) .completion-component h2,
  html:not(.dark) .flashcard-component h2,
  html:not(.dark) .matching-component h2 {
    color: var(--text-primary-soft) !important;
  }

  html.light .quiz-component h3,
  html.light .completion-component h3,
  html.light .flashcard-component h3,
  html:not(.dark) .quiz-component h3,
  html:not(.dark) .completion-component h3,
  html:not(.dark) .flashcard-component h3 {
    color: var(--text-primary-soft) !important;
  }

  /* Module card text */
  html.light .module-card h3,
  html.light .module-card p,
  html.light .module-card span,
  html:not(.dark) .module-card h3,
  html:not(.dark) .module-card p,
  html:not(.dark) .module-card span {
    color: var(--text-primary-soft) !important;
  }

  /* Settings text */
  html.light .compact-settings__title,
  html:not(.dark) .compact-settings__title {
    color: var(--text-primary-soft) !important;
  }

  /* Navigation text */
  html.light .nav-btn,
  html:not(.dark) .nav-btn {
    color: var(--text-primary-soft) !important;
  }

  /* Header text */
  html.light .header-redesigned h1,
  html.light .header-redesigned h2,
  html.light .header-redesigned span,
  html:not(.dark) .header-redesigned h1,
  html:not(.dark) .header-redesigned h2,
  html:not(.dark) .header-redesigned span {
    color: var(--text-primary-soft) !important;
  }

  /* Menu text */
  html.light .main-menu__item,
  html:not(.dark) .main-menu__item {
    color: var(--text-primary-soft) !important;
  }

  /* === BUTTON TEXT OVERRIDES === */
  /* Primary buttons - white text */
  html.light button.bg-blue-600,
  html.light button.bg-purple-600,
  html.light button.bg-green-600,
  html.light button[class*="bg-blue"],
  html.light button[class*="bg-purple"],
  html.light button[class*="bg-green"],
  html:not(.dark) button.bg-blue-600,
  html:not(.dark) button.bg-purple-600,
  html:not(.dark) button.bg-green-600,
  html:not(.dark) button[class*="bg-blue"],
  html:not(.dark) button[class*="bg-purple"],
  html:not(.dark) button[class*="bg-green"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* Quiz options and interactive elements */
  html.light .quiz-component__option--selected,
  html.light .quiz-component__option--correct,
  html.light .quiz-component__option--incorrect,
  html.light .matching-component__item--selected,
  html.light .matching-component__item--correct,
  html:not(.dark) .quiz-component__option--selected,
  html:not(.dark) .quiz-component__option--correct,
  html:not(.dark) .quiz-component__option--incorrect,
  html:not(.dark) .matching-component__item--selected,
  html:not(.dark) .matching-component__item--correct {
    color: var(--text-on-colored-primary) !important;
  }

  /* Button text inside colored backgrounds */
  html.light .quiz-component__option--selected span,
  html.light .quiz-component__option--correct span,
  html.light .quiz-component__option--incorrect span,
  html.light .matching-component__item--selected span,
  html:not(.dark) .quiz-component__option--selected span,
  html:not(.dark) .quiz-component__option--correct span,
  html:not(.dark) .quiz-component__option--incorrect span,
  html:not(.dark) .matching-component__item--selected span {
    color: var(--text-on-colored-primary) !important;
  }

  /* Navigation buttons with colored backgrounds */
  html.light .nav-btn[class*="bg-blue"],
  html.light .nav-btn[class*="bg-purple"],
  html.light .nav-btn[class*="bg-green"],
  html:not(.dark) .nav-btn[class*="bg-blue"],
  html:not(.dark) .nav-btn[class*="bg-purple"],
  html:not(.dark) .nav-btn[class*="bg-green"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* General text elements that might have Tailwind classes */
  html.light .font-bold,
  html.light .font-semibold,
  html.light .font-medium,
  html:not(.dark) .font-bold,
  html:not(.dark) .font-semibold,
  html:not(.dark) .font-medium {
    color: var(--text-primary-soft) !important;
  }

  /* Specific Tailwind text color overrides */
  html.light .text-lg,
  html.light .text-xl,
  html.light .text-2xl,
  html:not(.dark) .text-lg,
  html:not(.dark) .text-xl,
  html:not(.dark) .text-2xl {
    color: var(--text-primary-soft) !important;
  }

  /* === FORCE WHITE TEXT ON ANY COLORED BACKGROUND === */
  /* This catches any element with a colored background */
  html.light [style*="background-color: rgb(59, 130, 246)"], /* Blue */
  html.light [style*="background-color: rgb(139, 92, 246)"], /* Purple */
  html.light [style*="background-color: rgb(34, 197, 94)"], /* Green */
  html.light [style*="background-color: rgb(239, 68, 68)"], /* Red */
  html:not(.dark) [style*="background-color: rgb(59, 130, 246)"],
  html:not(.dark) [style*="background-color: rgb(139, 92, 246)"],
  html:not(.dark) [style*="background-color: rgb(34, 197, 94)"],
  html:not(.dark) [style*="background-color: rgb(239, 68, 68)"] {
    color: var(--text-on-colored-primary) !important;
  }

  /* Force white text on CSS custom property colored backgrounds */
  html.light [style*="--primary-blue"],
  html.light [style*="--primary-purple"],
  html.light [style*="--progress-complete"],
  html.light [style*="--error"],
  html:not(.dark) [style*="--primary-blue"],
  html:not(.dark) [style*="--primary-purple"],
  html:not(.dark) [style*="--progress-complete"],
  html:not(.dark) [style*="--error"] {
    color: var(--text-on-colored-primary) !important;
  }
}